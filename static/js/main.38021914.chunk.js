(this.webpackJsonpbitly=this.webpackJsonpbitly||[]).push([[0],{34:function(e,a,t){e.exports=t(68)},39:function(e,a,t){},68:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),r=t(11),c=t.n(r),s=t(4),o=t(5),m=t(6),i=t(7),d=t(8),u=(t(39),t(1)),h=t(10),b=t.n(h),v=t(29),g=t.n(v),E=t(2),p=t(33),f=Object(p.a)({forceRefresh:!0}),N="https://bitly-api89.herokuapp.com",S=function(e){function a(){var e;return Object(s.a)(this,a),(e=Object(m.a)(this,Object(i.a)(a).call(this))).state={name:"",email:"",password:"",showMessage:!1,isLogin:!1},e.handleChange=e.handleChange.bind(Object(u.a)(e)),e.handleSubmit=e.handleSubmit.bind(Object(u.a)(e)),e}return Object(d.a)(a,e),Object(o.a)(a,[{key:"handleChange",value:function(e){var a=e.target.name;this.setState(Object(E.a)({},a,e.target.value))}},{key:"handleSubmit",value:function(e){var a=this.state,t=a.name,n=a.email,l=a.password;b.a.post("".concat(N,"/user/register"),{name:t,email:n,password:l}).then((function(e){localStorage.setItem("secret_token",e.data.token),alert(e.data.msg),f.push("/dashboard")})),e.preventDefault()}},{key:"render",value:function(){return l.a.createElement("div",{id:"ModalLoginForm",className:"modal fade"},l.a.createElement("div",{className:"modal-dialog",role:"document"},l.a.createElement("div",{className:"modal-content"},l.a.createElement("div",{className:"modal-header"},l.a.createElement("h1",{className:"modal-title"},"SignUp")),l.a.createElement("div",{className:"modal-body"},l.a.createElement("form",{onSubmit:this.handleSubmit},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{className:"control-label"},"Name"),l.a.createElement("div",null,l.a.createElement("input",{type:"text",className:"form-control input-lg",name:"name",value:this.state.name,onChange:this.handleChange}))),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{className:"control-label"},"E-Mail Address"),l.a.createElement("div",null,l.a.createElement("input",{type:"email",className:"form-control input-lg",name:"email",value:this.state.email,onChange:this.handleChange}))),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{className:"control-label"},"Password"),l.a.createElement("div",null,l.a.createElement("input",{type:"password",className:"form-control input-lg",name:"password",value:this.state.password,onChange:this.handleChange}))),l.a.createElement("div",{className:"form-group"},l.a.createElement("div",null,l.a.createElement("button",{type:"submit",className:"btn btn-success"},"Register"))))))))}}]),a}(n.Component),k=function(e){function a(){var e;return Object(s.a)(this,a),(e=Object(m.a)(this,Object(i.a)(a).call(this))).state={email:"",password:"",isLogin:!1},e.handleChange=e.handleChange.bind(Object(u.a)(e)),e.handleSubmit=e.handleSubmit.bind(Object(u.a)(e)),e}return Object(d.a)(a,e),Object(o.a)(a,[{key:"handleChange",value:function(e){var a=e.target.name;this.setState(Object(E.a)({},a,e.target.value))}},{key:"handleSubmit",value:function(e){var a=this.state,t=a.email,n=a.password;b.a.post("".concat(N,"/user/login"),{email:t,password:n}).then((function(e){return localStorage.setItem("secret_token",e.data.token),f.push("/")})),e.preventDefault()}},{key:"render",value:function(){return l.a.createElement("div",{id:"ModalSignUp",className:"modal fade"},l.a.createElement("div",{className:"modal-dialog",role:"document"},l.a.createElement("div",{className:"modal-content"},l.a.createElement("div",{className:"modal-header"},l.a.createElement("h1",{className:"modal-title"},"Sign In")),l.a.createElement("div",{className:"modal-body"},l.a.createElement("form",{onSubmit:this.handleSubmit},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{className:"control-label"},"E-Mail Address"),l.a.createElement("div",null,l.a.createElement("input",{type:"email",className:"form-control input-lg",name:"email",value:this.state.email,onChange:this.handleChange}))),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{className:"control-label"},"Password"),l.a.createElement("div",null,l.a.createElement("input",{type:"password",className:"form-control input-lg",name:"password",value:this.state.password,onChange:this.handleChange}))),l.a.createElement("div",{className:"form-group"},l.a.createElement("div",null,l.a.createElement("button",{type:"submit",className:"btn btn-success"},"Login"))))))))}}]),a}(n.Component);g.a.setAppElement("#root");var y=function(e){function a(){var e;return Object(s.a)(this,a),(e=Object(m.a)(this,Object(i.a)(a).call(this))).state={shorten:"",isOpen:!1,showShorten:!1,inputShorten:""},e.handleChange=e.handleChange.bind(Object(u.a)(e)),e.handleSubmit=e.handleSubmit.bind(Object(u.a)(e)),e}return Object(d.a)(a,e),Object(o.a)(a,[{key:"handleChange",value:function(e){this.setState({inputShorten:e.target.value})}},{key:"handleSubmit",value:function(e){var a=this;b.a.post("".concat(N,"/shorten"),{url:this.state.inputShorten}).then((function(e){return a.setState({shorten:e.data.short_url,showShorten:!0,inputShorten:""})})),e.preventDefault()}},{key:"openModal",value:function(){this.setState({isOpen:!0})}},{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("nav",{style:{backgroundColor:"#242729"},className:"navbar navbar-dark bg-dark static-top"},l.a.createElement("div",{className:"container"},l.a.createElement("a",{className:"navbar-brand",href:"/"},"Link Shortener"),l.a.createElement("a",{className:"btn text-primary btn-outline-primary ml-auto mr-2","data-toggle":"modal","data-target":"#ModalLoginForm"},"Sign Up"),l.a.createElement("a",{className:"btn btn-primary","data-toggle":"modal","data-target":"#ModalSignUp"},"Sign In"))),l.a.createElement("header",{className:"masthead text-white text-center"},l.a.createElement("div",{className:"overlay"}),l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-xl-9 mx-auto"},l.a.createElement("h1",{className:"mb-5"},"More than Link Shortening")),l.a.createElement("div",{className:"col-md-10 col-lg-8 col-xl-7 mx-auto"},l.a.createElement("form",{onSubmit:this.handleSubmit},l.a.createElement("div",{className:"form-row"},l.a.createElement("div",{className:"col-12 col-md-9 mb-2 mb-md-0"},l.a.createElement("input",{type:"text",className:"form-control form-control-lg",value:this.state.inputShorten,onChange:this.handleChange,placeholder:"Shorten your link..."})),l.a.createElement("div",{className:"col-12 col-md-3"},l.a.createElement("button",{type:"submit",className:"btn btn-block btn-lg btn-primary"},"Shorten!")),this.state.showShorten?l.a.createElement("div",{className:"col-12 col-md-9 mt-2 mb-md-0"},l.a.createElement("div",{className:"alert alert-success",role:"alert"},this.state.shorten)):l.a.createElement("div",null))))))),l.a.createElement(S,null),l.a.createElement(k,null))}}]),a}(n.Component),O=t(30),j=t(17),w=t(32),C=t(13),_=t.n(C),x=_()().startOf("day").format(),L=_()().endOf("day").format(),M=_()(x).subtract(7,"days").format(),U=_()(x).subtract(30,"days").format(),I=_()(x).subtract(365,"days").format(),D=function(e){function a(e){var t;return Object(s.a)(this,a),(t=Object(m.a)(this,Object(i.a)(a).call(this,e))).state={shortUrl:e.data.short_url,newShortUrl:e.data.short_url},t.handleChange=t.handleChange.bind(Object(u.a)(t)),t.handleSubmit=t.handleSubmit.bind(Object(u.a)(t)),t}return Object(d.a)(a,e),Object(o.a)(a,[{key:"handleChange",value:function(e){var a=e.target.name;this.setState(Object(E.a)({},a,e.target.value))}},{key:"handleSubmit",value:function(e){var a={headers:{secret_token:localStorage.getItem("secret_token")}};this.state.newShortUrl?b.a.put("".concat(N,"/user/").concat(this.state.shortUrl),{name:this.state.newShortUrl},a).then((function(e){if(e)return alert("Sukses"),f.push("/")})):alert("gak boleh kosong bro"),e.preventDefault()}},{key:"render",value:function(){return l.a.createElement("div",{id:"ModalEdit-".concat(this.props.data._id),className:"modal fade"},l.a.createElement("div",{className:"modal-dialog",role:"document"},l.a.createElement("div",{className:"modal-content"},l.a.createElement("div",{className:"modal-body"},l.a.createElement("form",{onSubmit:this.handleSubmit},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{className:"control-label"},"New Short Url"),l.a.createElement("div",null,l.a.createElement("input",{type:"text",className:"form-control input-lg",name:"newShortUrl",value:this.state.newShortUrl,onChange:this.handleChange}))),l.a.createElement("div",{className:"form-group"},l.a.createElement("div",null,l.a.createElement("button",{type:"submit",className:"btn btn-success"},"Submit"))))))))}}]),a}(n.Component);function A(e){var a=e.data||[];return l.a.createElement("div",{key:a._id},l.a.createElement("div",{className:"media text-muted pt-3"},l.a.createElement("div",{className:"mx-2"},l.a.createElement("i",{className:"fas fa-chart-bar"}),l.a.createElement("p",null,a.track.length)),l.a.createElement("div",{className:"media-body pb-3 mb-0 small lh-125 border-bottom border-gray"},l.a.createElement("div",{className:"d-flex justify-content-between align-items-center w-100"},l.a.createElement("strong",{className:"text-gray-dark"},l.a.createElement("a",{href:"".concat(N,"/").concat(a.short_url)},N,"/",a.short_url)),l.a.createElement("button",{className:"btn btn-primary btn-sm ml-auto mr-2","data-toggle":"modal","data-target":"#ModalEdit-".concat(a._id)},l.a.createElement("i",{title:"Edit",className:"fas fa-edit"})),l.a.createElement("button",{className:"btn btn-danger btn-sm",onClick:function(){return function(e){if(window.confirm("Are you sure to delete this link?")){var a={headers:{secret_token:localStorage.getItem("secret_token")}};e.short_url?b.a.delete("".concat(N,"/user/").concat(e.short_url),a).then((function(e){if(e)return alert("Sukses"),f.push("/")})):alert("gak boleh kosong bro")}}(a)}},l.a.createElement("i",{title:"Delete",className:"fas fa-trash"}))),l.a.createElement("span",{className:"d-block text-truncate",style:{maxWidth:300}},a.url))),l.a.createElement(D,{data:a}))}function W(e){var a=Object(n.useState)(),t=Object(j.a)(a,2),r=t[0],c=t[1],s=Object(n.useState)(""),o=Object(j.a)(s,2),m=o[0],i=o[1],d=[{value:"all",label:"All Day"},{value:x,label:"Clicked today"},{value:M,label:"Clicked this Week"},{value:U,label:"Clicked this Month"},{value:I,label:"Clicked this Year"}],u=m||e.dataSource;return l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"my-3 p-3 bg-white rounded shadow"},l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row border-bottom border-gray"},l.a.createElement("div",{className:"col-6"},l.a.createElement("h6",{className:"pb-2 mb-0"},"Link Collection")),l.a.createElement("div",{className:"col-6"},l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-6"},l.a.createElement("h6",{className:"text-right"},"Filter :")),l.a.createElement("div",{className:"col-6"},l.a.createElement(w.a,{value:r,onChange:function(a){if(c(a),"all"===a.value){var t=e.dataSource;i(t)}else{var n=(l=a,e.dataSource.map((function(e){return Object(O.a)({},e,{track:e.track.filter((function(e){return _()(e.created_at).isBetween(l.value,L)}))})}))).filter((function(e){return e.track.length>0}));i(n)}var l},options:d,className:"mb-2"}))))))),u.map((function(e,a){return l.a.createElement("div",{className:"container",key:a},l.a.createElement(A,{data:e}))})),l.a.createElement("small",{className:"d-block text-right mt-3"},l.a.createElement("a",{href:"/"},"All suggestions"))))}var B=function(e){function a(){var e;return Object(s.a)(this,a),(e=Object(m.a)(this,Object(i.a)(a).call(this))).state={shorten:"",isManage:!0,showShorten:!1,tracks:[],listUrl:[],listLink:[],inputShorten:""},e.handleChange=e.handleChange.bind(Object(u.a)(e)),e.handleSubmit=e.handleSubmit.bind(Object(u.a)(e)),e.handleSignOut=e.handleSignOut.bind(Object(u.a)(e)),e.handleScreen=e.handleScreen.bind(Object(u.a)(e)),e}return Object(d.a)(a,e),Object(o.a)(a,[{key:"componentDidMount",value:function(){this.getTrack()}},{key:"handleChange",value:function(e){var a=e.target.name;this.setState(Object(E.a)({},a,e.target.value))}},{key:"handleSignOut",value:function(){return localStorage.removeItem("secret_token"),f.push("/")}},{key:"handleSubmit",value:function(e){var a=this,t={headers:{secret_token:localStorage.getItem("secret_token")}};b.a.post("".concat(N,"/user/shorten"),{url:this.state.inputShorten},t).then((function(e){return a.setState({shorten:e.data.short_url,showShorten:!0,inputShorten:""}),f.push("/")})),this.getTrack(),e.preventDefault()}},{key:"handleScreen",value:function(){this.setState({isManage:!this.state.isManage})}},{key:"getTrack",value:function(){var e=this,a={headers:{secret_token:localStorage.getItem("secret_token")}};b.a.get("".concat(N,"/user/track"),a).then((function(a){return e.setState({tracks:a.data.links,listLink:a.data.links})}))}},{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("nav",{style:{backgroundColor:"#242729"},className:"navbar navbar-dark bg-dark static-top"},l.a.createElement("div",{className:"container"},l.a.createElement("a",{className:"navbar-brand",href:"/"},"Link Shortener"),l.a.createElement("button",{onClick:this.handleSignOut,className:"btn btn-primary"},"Sign Out"))),l.a.createElement("div",{className:"nav-scroller bg-white shadow-sm"},l.a.createElement("nav",{className:"nav nav-underline"},l.a.createElement("span",{className:"nav-link active"},"Dashboard"),l.a.createElement("button",{className:"btn btn-outline text-primary nav-link",onClick:this.handleScreen},"Manage Link"))),l.a.createElement("section",null,l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-10 col-lg-8 col-xl-7 mx-auto mt-3"},l.a.createElement("form",{onSubmit:this.handleSubmit},l.a.createElement("div",{className:"form-row"},l.a.createElement("div",{className:"col-12 col-md-9 mb-2 mb-md-0"},l.a.createElement("input",{type:"text",name:"inputShorten",className:"form-control form-control-lg",value:this.state.inputShorten,onChange:this.handleChange,placeholder:"Shorten your link..."})),l.a.createElement("div",{className:"col-12 col-md-3"},l.a.createElement("button",{type:"submit",className:"btn btn-block btn-lg btn-primary"},"Shorten!")))))))),l.a.createElement("section",null,l.a.createElement(W,{dataSource:this.state.listLink})))}}]),a}(n.Component),F=function(e){function a(){var e;return Object(s.a)(this,a),(e=Object(m.a)(this,Object(i.a)(a).call(this))).checkLogin=function(){localStorage.getItem("secret_token")&&e.setState({isLogin:!0})},e.state={isLogin:!1},e}return Object(d.a)(a,e),Object(o.a)(a,[{key:"componentDidMount",value:function(){this.checkLogin()}},{key:"render",value:function(){return this.state.isLogin?l.a.createElement(B,null):l.a.createElement(y,null)}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(l.a.createElement(F,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[34,1,2]]]);
//# sourceMappingURL=main.38021914.chunk.js.map